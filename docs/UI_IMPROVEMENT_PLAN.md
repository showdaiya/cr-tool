# UI改善計画書

## 概要
スマホユーザーをメインターゲットとし、クラッシュ・ロワイヤル公式アプリのデザインとの親和性を保ちつつ、シンプルでわくわくするUIを目指す。

---

## クラロワ公式カラーパレット（参考）

| 色名 | HEX | 用途 |
|------|-----|------|
| Royal Blue | `#1c16d2` | メインアクセント、ヘッダー |
| Gold Yellow | `#dbbd0c` | ボタン、報酬、ハイライト |
| Leafy Green | `#709f1d` | HP満タン、成功状態 |
| Magenta | `#ab1ba5` | レアリティ、ステータス |
| Teal | `#26a783` | セカンダリアクセント |
| Dark Blue (夜背景) | `#0d1b2a` 〜 `#1b263b` | ダークモード背景 |

---

## 改善項目一覧

### 1. カラーパレット変更（優先度: 高）

**現状:**
- shadcn標準のブルーグレー系
- モノトーンでおとなしい印象

**改善案:**
- `--primary` を Royal Blue (`#1c16d2`) に変更
- アクセントカラーとして Gold (`#dbbd0c`) を追加
- 成功/HP系に Leafy Green (`#709f1d`) を使用
- ダークモード背景を Dark Blue 系に変更

**対象ファイル:** `globals.css`

---

### 2. タッチ操作サイズ拡大（優先度: 高）

**現状:**
| 要素 | サイズ |
|------|--------|
| ±ボタン | 32px (h-8) |
| 回数入力 | w-16 |
| リスト行 | padding 12px |

**改善案:**
| 要素 | 推奨サイズ |
|------|------------|
| ±ボタン | **44px以上** (h-11) |
| 回数入力 | **w-20** |
| リスト行 | **padding 16px以上** |

**理由:** スマホ推奨タップ領域は44px以上（Apple HIG / Material Design準拠）

**対象ファイル:** `AttackCard.tsx`, `SelectableCardListItem.tsx`

---

### 3. HP残量の動的カラー変化（優先度: 高）

**現状:**
- 残りHPは固定色（緑 or 赤の2段階）

**改善案:**
- HP 100〜50%: **緑** (`#22c55e`)
- HP 50〜20%: **黄** (`#eab308`)
- HP 20%以下: **赤** (`#ef4444`)
- プログレスバーも同様に色変化

**対象ファイル:** `DefenceCard.tsx`, `CardBattlePage.tsx`

---

### 4. ヘッダーサマリーの装飾強化（優先度: 中）

**現状:**
- 薄いボーダー、bg-muted/20で地味

**改善案:**
- ゴールド枠 or グラデーション背景でステータスパネル感を出す
- 残りHP欄は動的カラー（上記3と連動）
- アイコン追加（⚔️ 攻撃、🛡️ 防衛、💥 ダメージ、❤️ HP）

**対象ファイル:** `CardBattlePage.tsx`

---

### 5. カード選択モーダルのグリッド化（優先度: 中）

**現状:**
- リスト形式（1列）
- カード画像が小さい

**改善案:**
- **2列グリッド表示**（スマホ縦持ち最適化）
- カード画像を大きく（64px → 80px）
- 検索バーを上部固定（フローティング）
- タブ切り替え（ユニット / 建物 / 呪文）

**対象ファイル:** `SelectCardOverlay.tsx`, `SelectableCardListItem.tsx`

---

### 6. 攻撃カードセクションの改善（優先度: 中）

**現状:**
- 小計が目立たない
- 削除ボタンが右下

**改善案:**
- 小計を **太字＋背景色** で強調
- セクション見出し横に **ミニ合計バッジ**
- 削除操作: スワイプ or 長押し確認（誤操作防止）

**対象ファイル:** `AttackCard.tsx`, `AttackCardSection.tsx`

---

### 7. ダークモード改善（優先度: 中）

**現状:**
- 真っ黒ベース（`#0a0a0a`相当）
- アクセント色が薄い

**改善案:**
- 背景を **ダークブルー** (`#0d1b2a` 〜 `#1b263b`) に
- アクセント色を **ゴールド** に統一
- カード背景を少し明るめのダークブルー

**対象ファイル:** `globals.css`

---

### 8. マイクロインタラクション追加（優先度: 低）

| 場面 | アニメーション |
|------|----------------|
| カード選択時 | 軽いバウンス (scale 1.02 → 1.0) |
| HP減少時 | プログレスバーがシェイク |
| HP 0到達時 | 「撃破！」テキスト表示＋パーティクル |
| ボタンタップ | リップルエフェクト |

**実装方法:** Tailwind CSS `animate-` クラス or framer-motion

**対象ファイル:** 各コンポーネント

---

### 9. フッター最適化（優先度: 低）

**現状:**
- ライセンス表記が常時表示で長い

**改善案:**
- スマホでは **折りたたみ式**（タップで展開）
- または1行にまとめてコンパクト化

**対象ファイル:** `CardBattlePage.tsx` (PageFooter)

---

### 10. フローティングアクション検討（優先度: 低）

**案:**
- 画面下部に **固定フローティングボタン**
  - リセットボタン
  - 攻撃カード追加ボタン
- スクロールしても常にアクセス可能

---

## 実装優先順位

| 優先度 | 項目 | 工数目安 |
|--------|------|----------|
| 🔴 高 | 1. カラーパレット変更 | 30分 |
| 🔴 高 | 2. タッチ操作サイズ拡大 | 30分 |
| 🔴 高 | 3. HP動的カラー変化 | 20分 |
| 🟡 中 | 4. ヘッダーサマリー装飾 | 30分 |
| 🟡 中 | 5. カード選択グリッド化 | 1時間 |
| 🟡 中 | 6. 攻撃カードセクション改善 | 30分 |
| 🟡 中 | 7. ダークモード改善 | 20分 |
| 🟢 低 | 8. マイクロインタラクション | 1時間 |
| 🟢 低 | 9. フッター最適化 | 15分 |
| 🟢 低 | 10. フローティングアクション | 30分 |

---

## 参考リンク

- [Clash Royale Color Palette](https://www.color-hex.com/color-palette/16792)
- [Clash Royale UX-concept (Figma)](https://www.figma.com/community/file/1111584586422307019/clash-royale-ux-concept)
- [Clash Royale Redesign (Dribbble)](https://dribbble.com/shots/24313810-Clash-Royale-Redesign-Game-UI)
- [Apple HIG - Touch Targets](https://developer.apple.com/design/human-interface-guidelines/accessibility#Touch-targets)

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2025-12-21 | 初版作成 |
